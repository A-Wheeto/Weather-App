<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>{% block title %} {% endblock %} - Weather</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    </head>
    <body>
        <div class="topnav">
            <h1>5 Day Weather Forcast</h1>
            <select id="city_id" class="selection" onchange="if (this.value) window.location.href=this.value">
                {% for city, id in cities.items() %}
                <option value="{{ id }}">{{ city }}</option>
                {% endfor %}
            </select>
        </div>
        <br>
        <div class="content">
            {% block content %} {% endblock %}
        </div>
        
        <script src="" async defer>
            document.addEventListener("DOMContentLoaded", function() {

    var dropdownName = "My Dropdown"; // Field name
    var options = {
        "Option 1": "https://instapage.com", // Each option on a new line
        "Option 2": "https://help.instapage.com/hc",
        "Option 3": "https://help.instapage.com/hc/en-us/articles/214133067"
        // "Option Name" : "Redirect URL if this option is chosen"
    }

    var selectInput = document.querySelectorAll('form select[name="' + dropdownName + '"]');

    window.instapageFormSubmitSuccess = function() {
        for (var i = 0; i < selectInput.length; i++) {
            var selectedOption = selectInput[i].value;
            document.querySelectorAll('input[name="redirect"]')[i].value = options[selectedOption];
        }
    }
});
        </script>
    </body>
</html>